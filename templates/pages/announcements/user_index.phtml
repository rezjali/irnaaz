<div class="bg-white p-6 rounded-xl shadow-md max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-6 border-b pb-4">
        <h2 class="text-xl font-semibold">صندوق اطلاعیه‌ها</h2>
        <form action="<?php echo APP_URL; ?>/announcements/mark-all-read" method="POST">
            <button type="submit" class="text-sm text-blue-600 hover:underline">علامت زدن همه به عنوان خوانده شده</button>
        </form>
    </div>

    <div class="space-y-4">
        <?php if (empty($announcements)): ?>
            <p class="text-center text-gray-500 py-8">هیچ اطلاعیه‌ای برای نمایش وجود ندارد.</p>
        <?php else: ?>
            <?php foreach ($announcements as $announcement): ?>
                <div class="border rounded-lg p-4 <?php echo $announcement->read_at ? 'bg-gray-50 text-gray-500' : 'bg-white font-semibold'; ?>">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg <?php echo !$announcement->read_at ? 'text-gray-800' : ''; ?>"><?php echo e($announcement->title); ?></h3>
                        <span class="text-xs text-gray-400"><?php echo jdate('Y/m/d H:i', strtotime($announcement->created_at)); ?></span>
                    </div>
                    <p class="mt-2 text-sm font-normal text-gray-600 leading-relaxed">
                        <?php echo nl2br(e($announcement->content)); ?>
                    </p>
                </div>
            <?php endforeach; ?>
        <?php endif; ?>
    </div>
</div>
